<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>arweave-archive</title>
	<meta name="description" content="Documentation for arweave-archive">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">arweave-archive</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>arweave-archive</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#arweave-archive" id="arweave-archive" style="color: inherit; text-decoration: none;">
					<h1>arweave-archive</h1>
				</a>
				<p>arweave-archive is a node package that allows you to archive webpage and screenshot of the desired url on the <a href="https://arweave.org">Arweave</a> blockchain. It provides a convenient way to store web content permanently and securely.</p>
				<p><a href="https://www.npmjs.com/package/arweave-archive"><img src="https://img.shields.io/npm/v/arweave-archive?color=green&label=npm-package" alt="NPM version"></a></p>
				<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
					<h2>Installation</h2>
				</a>
				<p>Using npm,</p>
				<pre><code class="language-sh">npm install arweave-archive
</code></pre>
				<p>Using yarn,</p>
				<pre><code class="language-sh">yarn add arweave-archive
</code></pre>
				<p>Using pnpm,</p>
				<pre><code class="language-sh">pnpm add arweave-archive
</code></pre>
				<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
					<h2>Usage</h2>
				</a>
				<p>To use the Arweave Archive package, import it and create an instance of the <code>ArweaveArchiver</code> class. You need to provide a JSON Web Key (JWK) or a path to a JWK file, which will be used to sign transactions. Optionally, you can also provide the gateway and bundler URLs and browserless options. If browserless options is not provided, locally installed Chrome browser is used to capture the webpage and screenshot of the provided url using puppeteer.</p>
				<pre><code class="language-ts"><span class="hljs-keyword">import</span> { ArweaveArchiver } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;arweave-archive&#x27;</span>

<span class="hljs-keyword">const</span> jwk = <span class="hljs-string">&#x27;&lt;your-jwk-file-path-or-data&gt;&#x27;</span>
<span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">gatewayUrl</span>: <span class="hljs-string">&#x27;https://arweave.net&#x27;</span>,
  <span class="hljs-attr">bundlerUrl</span>: <span class="hljs-string">&#x27;https://node2.bundlr.network&#x27;</span>,
}

<span class="hljs-keyword">const</span> archiver = <span class="hljs-keyword">new</span> ArweaveArchiver(jwk, options)
</code></pre>
				<a href="#configuration" id="configuration" style="color: inherit; text-decoration: none;">
					<h3>Configuration</h3>
				</a>
				<p>The <code>ArweaveArchiver</code> class allows you to configure the following options:</p>
				<ul>
					<li><p><code>gatewayUrl</code> (optional): The URL of the Arweave gateway to use for uploading and accessing archived webpages. (default: &#39;<a href="https://arweave.net">https://arweave.net</a>&#39;)</p>
					</li>
					<li><p><code>bundlerUrl</code> (optional): The URL of the Arweave bundler to use for bundling and uploading archives. (default: &#39;<a href="https://node2.bundlr.network">https://node2.bundlr.network</a>&#39;)</p>
					</li>
					<li><p><code>browserlessOptions</code> (optional): The browserlessOptions object allows you to configure options related to <a href="https://www.browserless.io/docs/chrome-flags">browserless.io</a>. Here are the available options:</p>
						<ul>
							<li><code>apiKey</code> (optional): Your API key for using a browserless service.</li>
							<li><code>proxyServer</code> (optional): The URL of the proxy server to use.</li>
							<li><code>blockAds</code> (optional): A boolean indicating whether to block ads on the webpage.</li>
							<li><code>stealth</code> (optional): A boolean indicating whether to enable stealth mode for the browser.</li>
							<li><code>userDataDir</code> (optional): The directory where user data for the browser will be stored.</li>
							<li><code>keepalive</code> (optional): The maximum time to keep the browser process alive, in milliseconds.</li>
							<li><code>windowSize</code> (optional): The size of the browser window in pixels, specified as a string in the format &quot;width,height&quot;.</li>
							<li><code>ignoreDefaultArgs</code> (optional): Additional arguments to pass to the browser process.</li>
							<li><code>headless</code> (optional): A boolean indicating whether to run the browser in headless mode. Default is true.</li>
							<li><code>userAgent</code> (optional): The user agent string to use for the browser.</li>
							<li><code>timeout</code> (optional): session timer.</li>
						</ul>
					</li>
				</ul>
				<p>Here&#39;s an example of how you can set the browserlessOptions:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">browserlessOptions</span>: {
    <span class="hljs-attr">apiKey</span>: <span class="hljs-string">&#x27;your-api-key&#x27;</span>,
    <span class="hljs-attr">proxyServer</span>: <span class="hljs-string">&#x27;your-proxy-server&#x27;</span>,
    <span class="hljs-attr">blockAds</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">stealth</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">userDataDir</span>: <span class="hljs-string">&#x27;your-user-data-dir&#x27;</span>,
    <span class="hljs-attr">keepalive</span>: <span class="hljs-number">60000</span>,
    <span class="hljs-attr">windowSize</span>: <span class="hljs-string">&#x27;1280,720&#x27;</span>,
    <span class="hljs-attr">ignoreDefaultArgs</span>: <span class="hljs-string">&#x27;--disable-extensions&#x27;</span>,
    <span class="hljs-attr">headless</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">userAgent</span>: <span class="hljs-string">&#x27;your-user-agent&#x27;</span>,
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">60000</span>
  }
}

<span class="hljs-keyword">const</span> archiver = <span class="hljs-keyword">new</span> ArweaveArchiver(jwk, options)
</code></pre>
				<p>Please note that the browserlessOptions is optional, and you can omit them if you don&#39;t need to use it for capturing webpage and screenshots of the provided url.</p>
				<a href="#archiving-a-url" id="archiving-a-url" style="color: inherit; text-decoration: none;">
					<h3>Archiving a URL</h3>
				</a>
				<p>You can archive a webpage by providing its URL to the <code>archiveUrl</code> method. The method returns a promise that resolves to an <code>ArchiveResult</code> object, containing the status of the archive process, a message, the transaction ID, the title of the webpage, and the timestamp.</p>
				<pre><code class="language-ts"><span class="hljs-keyword">const</span> output = <span class="hljs-keyword">await</span> archiver.archiveUrl(<span class="hljs-string">&#x27;https://github.com/pawanpaudel93&#x27;</span>)
<span class="hljs-built_in">console</span>.log(output)
</code></pre>
				<a href="#retrieving-archived-webpages" id="retrieving-archived-webpages" style="color: inherit; text-decoration: none;">
					<h3>Retrieving Archived Webpages</h3>
				</a>
				<p>You can retrieve a list of all archived webpages or get the latest archived webpage for a specific wallet address or the provided wallet itself.</p>
				<p>To get all archived webpages, use the <code>getAllArchives</code> method. It returns a promise that resolves to an array of <code>Archive</code> objects, representing each archived webpage. Each object contains the ID, URL, title, webpage URL, screenshot URL, and timestamp.</p>
				<pre><code class="language-javascript"><span class="hljs-comment">// Get all archives of the loaded Arweave wallet JWK</span>
<span class="hljs-keyword">const</span> allArchives = <span class="hljs-keyword">await</span> archiver.getAllArchives();
<span class="hljs-built_in">console</span>.log(allArchives)
<span class="hljs-comment">// Get all archives of a wallet address</span>
<span class="hljs-keyword">const</span> allAddressArchives = <span class="hljs-keyword">await</span> archiver.getAllArchives(<span class="hljs-string">&quot;some-wallet-address&quot;</span>);
<span class="hljs-built_in">console</span>.log(allAddressArchives)
</code></pre>
				<a href="#get-latest-archived-webpages" id="get-latest-archived-webpages" style="color: inherit; text-decoration: none;">
					<h3>Get latest archived webpages</h3>
				</a>
				<p>To get the latest archived webpage for a specific wallet address or the provided wallet itself, use the <code>getLatestArchive</code> method. It returns a promise that resolves to an <code>Archive</code> object representing the latest archived webpage, or null if no archived webpages are found.</p>
				<pre><code class="language-javascript"><span class="hljs-comment">// Get latest archive of the loaded Arweave wallet JWK</span>
<span class="hljs-keyword">const</span> latestArchive = <span class="hljs-keyword">await</span> archiver.getLatestArchive();
<span class="hljs-built_in">console</span>.log(latestArchive)
<span class="hljs-comment">// Get latest archive of a wallet address</span>
<span class="hljs-keyword">const</span> latestAddressArchive = <span class="hljs-keyword">await</span> archiver.getLatestArchive(<span class="hljs-string">&quot;some-wallet-address&quot;</span>);
<span class="hljs-built_in">console</span>.log(latestAddressArchive)
</code></pre>
				<a href="#author" id="author" style="color: inherit; text-decoration: none;">
					<h2>Author</h2>
				</a>
				<p>üë§ <strong>Pawan Paudel</strong></p>
				<ul>
					<li>Github: <a href="https://github.com/pawanpaudel93">@pawanpaudel93</a></li>
				</ul>
				<a href="#ü§ù-contributing" id="ü§ù-contributing" style="color: inherit; text-decoration: none;">
					<h2>ü§ù Contributing</h2>
				</a>
				<p>Contributions, issues and feature requests are welcome! \ Feel free to check <a href="https://github.com/pawanpaudel93/arweave-archive/issues">issues page</a>.</p>
				<a href="#show-your-support" id="show-your-support" style="color: inherit; text-decoration: none;">
					<h2>Show your support</h2>
				</a>
				<p>Give a ‚≠êÔ∏è if this project helped you!</p>
				<p>Copyright ¬© 2023 <a href="https://github.com/pawanpaudel93">Pawan Paudel</a></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/arweavearchiver.html" class="tsd-kind-icon">Arweave<wbr>Archiver</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ardataitemparams.html" class="tsd-kind-icon">Ar<wbr>Data<wbr>Item<wbr>Params</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/archive.html" class="tsd-kind-icon">Archive</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/archiveresult.html" class="tsd-kind-icon">Archive<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/archiveroptions.html" class="tsd-kind-icon">Archiver<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/browserlessoptions.html" class="tsd-kind-icon">Browserless<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/dispatchresult.html" class="tsd-kind-icon">Dispatch<wbr>Result</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/manifest.html" class="tsd-kind-icon">Manifest</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/manifestpath.html" class="tsd-kind-icon">Manifest<wbr>Path</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/tag.html" class="tsd-kind-icon">Tag</a>
					</li>
					<li class=" tsd-kind-function">
						<a href="globals.html#geterrormessage" class="tsd-kind-icon">get<wbr>Error<wbr>Message</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>